defaults:
  data_source: &skeleton_pool_v23_source
    type: skeleton_dataset
    dataset: "{{ROOT}}/configs/v23.0-3M/dataset_val.yaml"
    n_support: 512
    noise_level: 0.0
    preprocess: false
    device: cuda
    datasets_per_expression: 10
  max_trials: 100
  model_adapter: &skeleton_pool_adapter
    type: skeleton_pool
    simplipy_engine: "dev_7-3"
    skeleton_pool: "{{ROOT}}/data/ansr-data/test_set/fastsrb/skeleton_pool_max8"
    samples: 32
    unique: true
    ignore_holdouts: true
    seed: 42
    n_restarts: 8
    refiner_method: curve_fit_lm
    refiner_p0_noise: normal
    refiner_p0_noise_kwargs:
      loc: 0.0
      scale: 5
    numpy_errors: ignore
    parsimony: 0.05
  runner: &skeleton_pool_v23_runner
    limit: 1000
    save_every: 64
    resume: true

experiments:
  skeleton_pool_v23_samples_00001:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 1
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_00001.pkl"

  skeleton_pool_v23_samples_00002:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 2
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_00002.pkl"

  skeleton_pool_v23_samples_00004:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 4
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_00004.pkl"

  skeleton_pool_v23_samples_00008:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 8
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_00008.pkl"

  skeleton_pool_v23_samples_00016:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 16
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_00016.pkl"

  skeleton_pool_v23_samples_00032:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 32
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_00032.pkl"

  skeleton_pool_v23_samples_00064:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 64
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_00064.pkl"

  skeleton_pool_v23_samples_00128:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 128
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_00128.pkl"

  skeleton_pool_v23_samples_00256:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 256
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_00256.pkl"

  skeleton_pool_v23_samples_00512:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 512
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_00512.pkl"

  skeleton_pool_v23_samples_01024:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 1024
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_01024.pkl"

  skeleton_pool_v23_samples_02048:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 2048
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_02048.pkl"

  skeleton_pool_v23_samples_04096:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 4096
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_04096.pkl"

  skeleton_pool_v23_samples_08192:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 8192
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_08192.pkl"

  skeleton_pool_v23_samples_16384:
    run:
      data_source: *skeleton_pool_v23_source
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 16384
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_16384.pkl"

  skeleton_pool_v23_samples_65536:
    run:
      data_source:
        <<: *skeleton_pool_v23_source
        datasets_per_expression: 5
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 65536
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_65536.pkl"

  skeleton_pool_v23_samples_262144:
    run:
      data_source:
        <<: *skeleton_pool_v23_source
        datasets_per_expression: 5
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 262144
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_262144.pkl"

  skeleton_pool_v23_samples_1048576:
    run:
      data_source:
        <<: *skeleton_pool_v23_source
        datasets_per_expression: 1
      model_adapter:
        <<: *skeleton_pool_adapter
        samples: 1048576
      runner:
        <<: *skeleton_pool_v23_runner
        output: "{{ROOT}}/results/evaluation/scaling/skeleton_pool/v23_val/samples_1048576.pkl"
