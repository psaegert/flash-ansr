defaults:
  data_source: &e2e_fastsrb_source
    type: fastsrb
    benchmark_path: "{{ROOT}}/data/ansr-data/test_set/fastsrb/expressions.yaml"
    datasets_per_expression: 10
    support_points: 512
    sample_points: 1024
    method: random
    max_trials: 100
    incremental: false
    random_state: 42
    noise_level: 0.0
  model_adapter: &e2e_adapter
    type: e2e
    model_path: "{{ROOT}}/models/e2e/model1.pt"
    simplipy_engine: "dev_7-3"
    device: cuda
    candidates_per_bag: 256
    max_input_points: 200
    max_number_bags: 100
    n_trees_to_refine: 10
    rescale: true
  runner: &e2e_fastsrb_runner
    limit: null
    save_every: 64
    resume: true

experiments:
  e2e_fastsrb_noise_0p000:
    run:
      data_source: *e2e_fastsrb_source
      model_adapter: *e2e_adapter
      runner:
        <<: *e2e_fastsrb_runner
        output: "{{ROOT}}/results/evaluation/noise_sweep/e2e/fastsrb/noise_0p000.pkl"

  e2e_fastsrb_noise_0p001:
    run:
      data_source:
        <<: *e2e_fastsrb_source
        noise_level: 0.001
      model_adapter: *e2e_adapter
      runner:
        <<: *e2e_fastsrb_runner
        output: "{{ROOT}}/results/evaluation/noise_sweep/e2e/fastsrb/noise_0p001.pkl"

  e2e_fastsrb_noise_0p010:
    run:
      data_source:
        <<: *e2e_fastsrb_source
        noise_level: 0.01
      model_adapter: *e2e_adapter
      runner:
        <<: *e2e_fastsrb_runner
        output: "{{ROOT}}/results/evaluation/noise_sweep/e2e/fastsrb/noise_0p010.pkl"

  e2e_fastsrb_noise_0p100:
    run:
      data_source:
        <<: *e2e_fastsrb_source
        noise_level: 0.1
      model_adapter: *e2e_adapter
      runner:
        <<: *e2e_fastsrb_runner
        output: "{{ROOT}}/results/evaluation/noise_sweep/e2e/fastsrb/noise_0p100.pkl"
