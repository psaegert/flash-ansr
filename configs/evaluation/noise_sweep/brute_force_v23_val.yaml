defaults:
  data_source: &brute_force_v23_source
    type: skeleton_dataset
    dataset: "{{ROOT}}/configs/v23.0-3M/dataset_val.yaml"
    n_support: 512
    noise_level: 0.0
    preprocess: false
    device: cuda
    datasets_per_expression: 10
  max_trials: 100
  model_adapter: &brute_force_adapter
    type: brute_force
    simplipy_engine: "dev_7-3"
    skeleton_pool: "{{ROOT}}/data/ansr-data/test_set/fastsrb/skeleton_pool_max8"
    max_expressions: 10000
    max_length: null
    include_constant_token: true
    ignore_holdouts: true
    n_restarts: 8
    refiner_method: curve_fit_lm
    refiner_p0_noise: normal
    refiner_p0_noise_kwargs:
      loc: 0.0
      scale: 5
    numpy_errors: ignore
    parsimony: 0.05
  runner: &brute_force_v23_runner
    limit: 1000
    save_every: 64
    resume: true

experiments:
  brute_force_v23_noise_0p000:
    run:
      data_source: *brute_force_v23_source
      model_adapter: *brute_force_adapter
      runner:
        <<: *brute_force_v23_runner
        output: "{{ROOT}}/results/evaluation/noise_sweep/brute_force/v23_val/noise_0p000.pkl"

  brute_force_v23_noise_0p001:
    run:
      data_source:
        <<: *brute_force_v23_source
        noise_level: 0.001
      model_adapter: *brute_force_adapter
      runner:
        <<: *brute_force_v23_runner
        output: "{{ROOT}}/results/evaluation/noise_sweep/brute_force/v23_val/noise_0p001.pkl"

  brute_force_v23_noise_0p010:
    run:
      data_source:
        <<: *brute_force_v23_source
        noise_level: 0.01
      model_adapter: *brute_force_adapter
      runner:
        <<: *brute_force_v23_runner
        output: "{{ROOT}}/results/evaluation/noise_sweep/brute_force/v23_val/noise_0p010.pkl"

  brute_force_v23_noise_0p100:
    run:
      data_source:
        <<: *brute_force_v23_source
        noise_level: 0.1
      model_adapter: *brute_force_adapter
      runner:
        <<: *brute_force_v23_runner
        output: "{{ROOT}}/results/evaluation/noise_sweep/brute_force/v23_val/noise_0p100.pkl"